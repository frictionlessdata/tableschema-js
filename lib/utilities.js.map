{"version":3,"sources":["../src/utilities.js"],"names":[],"mappings":";;;;;;AAAA;;AACA;;AACA;;AACA;;kBAEe;AACb,kBAAgB,CAAC,MAAD,EAAS,OAAT,EAAkB,KAAlB,EAAyB,MAAzB,CADH;AAEX,eAAa,CAAC,MAAD,EAAS,MAAT,EAAiB,KAAjB,EAAwB,KAAxB,EAA+B,GAA/B,EAAoC,EAApC,CAFF;AAGX,eAAa,CAAC,KAAD,EAAQ,GAAR,EAAa,MAAb,EAAqB,GAArB,EAA0B,GAA1B,CAHF;AAIX,gBAAc,CAAC,IAAD,EAAO,GAAP,EAAY,OAAZ,EAAqB,GAArB,EAA0B,GAA1B,CAJH;;AAMX,QANW,kBAMJ,KANI,EAMG;AACd,WAAO,cAAE,QAAF,CAAW,KAAX,KAAqB,CAAC,cAAE,OAAF,CAAU,KAAV,CAAtB,IAA0C,CAAC,cAAE,UAAF,CAAa,KAAb,CAAlD;AACD;;;AARY;AAWX,gBAXW,0BAWI,MAXJ,EAWY;AACvB,QAAI,cAAE,MAAF,CAAS,MAAT,KAAoB,cAAE,WAAF,CAAc,MAAd,CAAxB,EAA+C;AAC7C,aAAO,IAAP;AACD,KAFD,MAEO,IAAI,cAAE,QAAF,CAAW,MAAX,KAAsB,CAAC,cAAE,UAAF,CAAa,MAAb,CAA3B,EAAiD;;;AAGtD,aAAO,MAAP;AACD;;AAED,QAAI,cAAE,QAAF,CAAW,KAAK,cAAhB,EACW,SAAI,KAAJ,CAAU,MAAV,EAAkB,QAAlB,CAA2B,OAA3B,CAAmC,GAAnC,EAAwC,EAAxC,CADX,CAAJ,EAC6D;AAC3D,aAAO,sBAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACtC,4BAAQ,GAAR,CAAY,MAAZ,EAAoB,GAApB,CAAwB,UAAC,KAAD,EAAQ,QAAR,EAAqB;AAC3C,cAAI,KAAJ,EAAW;AACT,iEAA4C,KAA5C;AACD,WAFD,MAEO;AACL,oBAAQ,KAAK,KAAL,CAAW,QAAX,CAAR;AACD;AACF,SAND;AAOD,OARM,CAAP;AASD;AACD,WAAO,IAAP;;;AAGD;AAnCY,C","file":"utilities.js","sourcesContent":["import { _ } from 'underscore'\nimport { Promise } from 'bluebird'\nimport { request } from 'superagent'\nimport { url } from 'url'\n\nexport default {\n  REMOTE_SCHEMES: ['http', 'https', 'ftp', 'ftps']\n  , NULL_VALUES: ['null', 'none', 'nil', 'nan', '-', '']\n  , TRUE_VALUES: ['yes', 'y', 'true', 't', '1']\n  , FALSE_VALUES: ['no', 'n', 'false', 'f', '0']\n\n  , isHash(value) {\n    return _.isObject(value) && !_.isArray(value) && !_.isFunction(value)\n  }\n\n  // Load a JSON source, from string, URL or buffer, into a Python type.\n  , loadJSONSource(source) {\n    if (_.isNull(source) || _.isUndefined(source)) {\n      return null\n    } else if (_.isObject(source) && !_.isFunction(source)) {\n      // The source has already been loaded. Return Promise object for\n      // consistency.\n      return source\n    }\n\n    if (_.contains(this.REMOTE_SCHEMES,\n                   url.parse(source).protocol.replace(':', ''))) {\n      return new Promise((resolve, reject) => {\n        request.get(source).end((error, response) => {\n          if (error) {\n            reject(`Failed to download registry file: ${error}`)\n          } else {\n            resolve(JSON.parse(response))\n          }\n        })\n      })\n    }\n    return null\n    // WARN There is no possibility to have browser compatable code which can\n    // load file\n  }\n}\n"]}